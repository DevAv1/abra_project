(this["webpackJsonpherolo-project"]=this["webpackJsonpherolo-project"]||[]).push([[0],{118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},123:function(e,t,a){},148:function(e,t,a){},151:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var c,n=a(0),r=a.n(n),o=a(32),i=a.n(o),s=(a(118),a(119),a(120),a(45)),l=a(15),u=(a(121),a(204)),j=a(16),d=a(23),O=a.n(d),b=a(41),f=a(11),h=(a(123),a(202)),v=a(201);!function(e){e.GET_CURRENT_WEATHER="GET_CURRENT_WEATHER",e.SET_CURRENT_LOCATION_NAME="GET_CURRENT_LOCATION_NAME",e.GET_WEEKLY_FORECAST="GET_WEEKLY_FORECAST",e.GET_ALL_FORECAST_DATA="GET_ALL_FORECAST_DATA",e.ADD_FAVORITE="ADD_FAVORITE",e.ADD_FAVORITES="GET_FAVORITES",e.DELETE_FAVORITE="DELETE_FAVORITE",e.SET_TEMP_UNIT="SET_TEMP_UNIT"}(c||(c={}));var p,E=a(67),T=a.n(E),_=function(e){try{var t=T()("http://dataservice.accuweather.com/forecasts/v1/daily/1day/".concat(e,"?apikey=").concat("bACtOAR8cY1upCw3SN8bn3nuSAl4Apfz","&metric=false")),a=T()("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat("bACtOAR8cY1upCw3SN8bn3nuSAl4Apfz","&metric=false"));return Promise.all([t,a])}catch(c){console.error(c)}},m=function(e){return console.log("fetching all forecast data..."),function(){var t=Object(b.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_(e);case 3:n=t.sent,console.log("Get Data success!"),a({type:c.GET_ALL_FORECAST_DATA,allWeatherData:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},A=a(18),y=function(e){return e.weathers},x=a(2),N=function(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),a=t[0],r=t[1],o=function(e,t){var a=Object(n.useState)(e),c=Object(f.a)(a,2),r=c[0],o=c[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){o(e)}),t);return function(){clearTimeout(a)}}),[e,t]),r}(a,500),i=Object(n.useState)([]),s=Object(f.a)(i,2),l=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(f.a)(d,2),E=p[0],_=p[1],N=Object(A.c)(y),C=Object(A.b)();Object(n.useEffect)((function(){N.favorites.length||C({type:c.SET_CURRENT_LOCATION_NAME,locationDetails:{cityName:"Tel Aviv",cityCode:"215793"}})}),[]);Object(n.useEffect)((function(){o?(_(!0),w(o),_(!1)):(u([]),_(!1))}),[o]);var w=function(){var e=Object(b.a)(O.a.mark((function e(t){var a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=t,T()("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat("bACtOAR8cY1upCw3SN8bn3nuSAl4Apfz","&q=").concat(n));case 2:a=e.sent,c=a.data.map((function(e){return{label:e.LocalizedName,code:e.Key}})),u(c);case 5:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"searchWeather",children:Object(x.jsx)("div",{className:"search-wrapper",children:Object(x.jsx)(v.a,{disablePortal:!0,id:"combo-box-demo",selectOnFocus:!0,loading:E,options:l,sx:{width:200},onChange:function(e,t){return function(e){var t={cityName:e.label,cityCode:e.code};C(m(t.cityCode)),C({type:c.SET_CURRENT_LOCATION_NAME,locationDetails:t})}(t||"")},renderOption:function(e,t){return Object(n.createElement)("li",Object(j.a)(Object(j.a)({},e),{},{key:t.code}),t.label)},renderInput:function(e){return Object(x.jsx)(h.a,Object(j.a)(Object(j.a)({},e),{},{label:"Location",value:a||"Tel Aviv",onChange:function(e){return r(e.target.value)}}))}})})})},C=(a(148),a(97)),w=a.n(C),D=function(e){var t,a,n,r,o=e.forecast,i=e.favOption,s=e.locationName,l=Object(A.c)(y),u=Object(A.b)(),j=function(e,t){var a,n=d(t.cityCode);u(n?(a=t.cityCode,function(){var e=Object(b.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:c.DELETE_FAVORITE,cityCode:a})}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):function(e,t){var a={forecast:e,locationDetails:t};return function(){var e=Object(b.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:c.ADD_FAVORITES,newFavoriteForecast:a})}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}(e,t))},d=function(e){var t=l.favorites;return!!(null===t||void 0===t?void 0:t.find((function(t){return t.locationDetails.cityCode===e})))};return Object(x.jsxs)("div",{className:"weather-card",children:[i&&Object(x.jsx)(w.a,{color:d(s.cityCode)?"secondary":"primary",className:"favorite-icon",onClick:function(){return j(o,s)}}),Object(x.jsxs)("div",{className:"weather-info",children:[Object(x.jsx)("div",{className:"weather-cityName",children:null===s||void 0===s?void 0:s.cityName}),Object(x.jsx)("div",{className:"weather-title",children:function(e){var t=new Date(e),a=new Array(7);return a[0]="Sunday",a[1]="Monday",a[2]="Tuesday",a[3]="Wednesday",a[4]="Thursday",a[5]="Friday",a[6]="Saturday",a[t.getDay()]}(o.Date)}),Object(x.jsx)("div",{className:"weather-temp",children:"".concat(l.isCelcius?"".concat(Math.round(.5556*((null===(n=o.Temperature)||void 0===n||null===(r=n.Maximum)||void 0===r?void 0:r.Value)-32)),"\xb0C"):"".concat(null===(t=o.Temperature)||void 0===t||null===(a=t.Maximum)||void 0===a?void 0:a.Value,"\u2109"))}),Object(x.jsx)("div",{className:"weather-status",children:"".concat(o.Day.IconPhrase)})]})]})},R=function(){var e=Object(A.c)(y),t=Object(A.b)();Object(n.useEffect)((function(){e.favorites.length||t(m(215793))}),[]);return Object(x.jsxs)("div",{className:"home",children:[Object(x.jsx)("div",{className:"home__search",children:Object(x.jsx)(N,{})}),Object(x.jsxs)("div",{className:"home__unit-toggler",children:[Object(x.jsx)("span",{children:"Fahrenheit - Celcius"}),Object(x.jsx)(u.a,{checked:e.isCelcius,onChange:function(){var a;t((a=!e.isCelcius,function(){var e=Object(b.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:c.SET_TEMP_UNIT,isCelcius:a})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})]}),Object(x.jsx)("div",{className:"home__default-weather-view",children:Object(x.jsx)("div",{className:"selected-weather",children:(null===e||void 0===e?void 0:e.weatherData.currentForecast)&&Object(x.jsx)(D,{locationName:e.weatherData.locationName,forecast:e.weatherData.currentForecast,favOption:!0})})}),Object(x.jsx)("div",{className:"home__weekly-weather-view",children:e.weatherData.weeklyForecast&&e.weatherData.weeklyForecast.map((function(e,t){return Object(x.jsx)(D,{forecast:e},t)}))})]})},F=(a(151),a(205)),S=function(){return Object(x.jsx)("div",{className:"header",children:Object(x.jsxs)("div",{className:"header__container",children:[Object(x.jsx)("div",{className:"header__container__logo",children:Object(x.jsx)("span",{children:"Herolo"})}),Object(x.jsxs)("div",{className:"header__container__items",children:[Object(x.jsx)("div",{className:"header_item",children:Object(x.jsx)(s.b,{to:"/",children:Object(x.jsx)(F.a,{variant:"contained",children:"Home"})})}),Object(x.jsx)("div",{className:"header_item",children:Object(x.jsx)(s.b,{to:"/favorites",children:Object(x.jsx)(F.a,{variant:"contained",children:"Favorites"})})})]})]})})},I=(a(154),function(){var e=Object(A.c)(y),t=Object(A.b)(),a=function(e){var a;t((a=e.locationDetails,function(){var e=Object(b.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:c.SET_CURRENT_LOCATION_NAME,locationDetails:a})}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t(m(e.locationDetails.cityCode))};return Object(x.jsx)("div",{className:"favorites",children:e.favorites.length&&e.favorites.map((function(e){return Object(x.jsx)(s.b,{to:"/",children:Object(x.jsx)("div",{onClick:function(){return a(e)},children:Object(x.jsx)(D,{locationName:e.locationDetails,forecast:e.forecast,favOption:!1})})},e.locationDetails.cityCode)}))})}),g=function(){return Object(x.jsx)("div",{className:"app_wrapper",children:Object(x.jsxs)(s.a,{basename:"/abra_project",children:[Object(x.jsx)(S,{}),Object(x.jsxs)(l.c,{children:[Object(x.jsx)(l.a,{exact:!0,path:"/",component:R}),Object(x.jsx)(l.a,{exact:!0,path:"/favorites",component:I})]})]})})},L=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(g,{})})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,207)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),c(e),n(e),r(e),o(e)}))},M=a(46),V=a(99),U=a(100),G=a(17);!function(e){e.IS_FAVORITE="IS_FAVORITE",e.ONCE_FAVORITE="ONCE_FAVORITE"}(p||(p={}));var W={weatherData:{},favorites:[],isCelcius:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.SET_CURRENT_LOCATION_NAME:return Object(j.a)(Object(j.a)({},e),{},{weatherData:Object(j.a)(Object(j.a)({},e.weatherData),{},{locationName:t.locationDetails})});case c.GET_ALL_FORECAST_DATA:var a=t.allWeatherData[0].data.DailyForecasts[0],n=t.allWeatherData[1].data.DailyForecasts;return Object(j.a)(Object(j.a)({},e),{},{weatherData:Object(j.a)(Object(j.a)({},e.weatherData),{},{currentForecast:a,weeklyForecast:n})});case c.ADD_FAVORITES:return Object(j.a)(Object(j.a)({},e),{},{favorites:[].concat(Object(G.a)(e.favorites),[t.newFavoriteForecast])});case c.DELETE_FAVORITE:var r=e.favorites.filter((function(e){return e.locationDetails.cityCode!==t.cityCode}));return Object(j.a)(Object(j.a)({},e),{},{favorites:r});case c.SET_TEMP_UNIT:return Object(j.a)(Object(j.a)({},e),{},{isCelcius:t.isCelcius});default:return e}},Y=Object(M.createStore)(Object(M.combineReducers)({weathers:P}),Object(V.composeWithDevTools)(Object(M.compose)(Object(M.applyMiddleware)(U.a))));i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(A.a,{store:Y,children:Object(x.jsx)(L,{})})}),document.getElementById("root")),k()}},[[155,1,2]]]);
//# sourceMappingURL=main.69a4a7c6.chunk.js.map